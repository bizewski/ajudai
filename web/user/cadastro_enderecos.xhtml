<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />

        <title>Ajudaí - Cadastro de Endereço</title>
        <link rel="shortcut icon" type="image/x-icon" href="resources/img/logo.png" />
        <!-- Custom fonts for this template-->
        <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />

        <!-- Custom styles for this template-->
        <h:outputStylesheet library="css" name="sb-admin-2_2.min.css" />

        <h:outputStylesheet library="vendor/fontawesome-free/css" name="all.min.css" />


    </h:head>

    <h:body id="page-top">

        <!-- Page Wrapper -->
        <div id="wrapper">

            <!-- Sidebar -->
            <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

                <!-- Sidebar - Brand -->
                <a class="sidebar-brand d-flex align-items-center justify-content-center" href="dash.faces">
                    <div class="sidebar-brand-icon">
                    </div>
                    <div class="sidebar-brand-text mx-3">Menu</div>
                </a>

                <!-- Divider -->
                <hr class="sidebar-divider my-0" />

                <!-- Heading -->
                <!-- Nav Item - Charts -->
                <li class="nav-item active">
                    <a class="nav-link" href="dash.faces">
                        <i class="fas fa-fw"></i>
                        <span>Início</span></a>
                </li>

                <!-- Nav Item - Charts -->
                <li class="nav-item active">
                    <a class="nav-link" href="cadastro_enderecos.faces">
                        <i class="fas fa-fw"></i>
                        <span>Cadastro de Endereço</span></a>
                </li>

                <!-- Nav Item - Tables -->
                <li class="nav-item active">
                    <a class="nav-link" href="cadastro_contato.faces">
                        <i class="fas fa-fw"></i>
                        <span>Cadastro de Contato</span></a>
                </li>

                <!-- Nav Item - Tables -->
                <li class="nav-item active">
                    <a class="nav-link" href="cadastro_eventos.faces">
                        <i class="fas fa-fw"></i>
                        <span>Cadastro de Eventos</span></a>
                </li>

                <!-- Nav Item - Tables -->
                <li class="nav-item active">
                    <a class="nav-link" href="cadastro_necessidades.faces">
                        <i class="fas fa-fw"></i>
                        <span>Cadastro de Necessidades</span></a>
                </li>

                <!-- Nav Item - Tables -->
                <li class="nav-item active">
                    <a class="nav-link" href="cadastro_imagens.faces">
                        <i class="fas fa-fw"></i>
                        <span>Galeria de Fotos</span></a>
                </li>

                <!-- Divider -->
                <hr class="sidebar-divider d-none d-md-block" />

                <!-- Sidebar Toggler (Sidebar) -->


            </ul>
            <!-- End of Sidebar -->

            <!-- Content Wrapper -->
            <div id="content-wrapper" class="d-flex flex-column">

                <!-- Main Content -->
                <div id="content">

                    <!-- Topbar -->
                    <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
                        <!-- Sidebar Toggle (Topbar) -->       
                        <div class="text-center">
                            <h1 class="h4 text-gray-900 mb-4">Cadastro de Endereço</h1>
                        </div>
                    </nav>

                    <div class="col-lg-auto">
                        <div class="p-5">
                            <p:messages id="messages"  closable="true">
                                <p:autoUpdate />
                            </p:messages>
                            <h:form class="user">

                                <div class="form-group row">
                                    <div class="col-sm-6 mb-3 mb-sm-0">
                                        <p:inputMask  mask="99999-999" class="form-control form-control-user" id="cep" placeholder="CEP" 
                                                      value="#{instituicaoC.endereco.cep}" required="true" requiredMessage="Campo CEP é obrigatório!"/>

                                    </div>
                                    <div class="col-sm-6">
                                        <p:inputText type="text" class="form-control form-control-user" id="cidade" 
                                                     placeholder="Cidade" value="#{instituicaoC.endereco.cidade}" required="true" requiredMessage="Campo Cidade é obrigatório"/>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col-sm-6 mb-3 mb-sm-0">
                                        <p:inputText type="text" class="form-control form-control-user" id="logradouro" 
                                                     placeholder="Logradouro" value="#{instituicaoC.endereco.logradouro}" required="true" requiredMessage="Campo Logradouro é obrigatório"/>
                                    </div>
                                    <div class="col-sm-6">
                                        <p:inputText type="text" class="form-control form-control-user" id="uf" 
                                                     placeholder="Estado" value="#{instituicaoC.endereco.estado}" required="true" requiredMessage="Campo Estado é obrigatório"/>
                                        <!--                                        <p:message for="uf" display="uf" />-->
                                    </div>
                                </div>


                                <div class="form-group row">
                                    <div class="col-sm-6 mb-3 mb-sm-0">
                                        <p:inputText type="number" class="form-control form-control-user" id="numero" 
                                                     placeholder="Número" value="#{instituicaoC.endereco.numero}" required="true" requiredMessage="Campo Número é obrigatório" />
                                    </div>
                                    <div class="col-sm-6">
                                        <p:inputText type="text" class="form-control form-control-user" id="complemento" 
                                                     placeholder="Complemento" value="#{instituicaoC.endereco.complemento}" />
                                    </div>
                                </div>
                                <!-- BOTOES -->

                                <hr />

                                <div class="col-sm-12 mb-3 mb-sm-0">
                                    <br/>
                                    <p:commandButton action="#{instituicaoC.addEndereco()}" process="cep cidade logradouro uf numero complemento @this" 
                                                     update="@form" id="inserir" class="btn btn-primary btn-user btn-block" 
                                                     title="Add Endereço na Lista" />
                                </div>
                                <br />


                                <p:dataTable id="tabelaEnderecos" var="endereco" value="#{instituicaoC.enderecos}" 
                                             emptyMessage="Lista de Endereços vazia!" >
                                    <p:column headerText="CEP">
                                        <h:outputText value="#{endereco.cep}" />
                                    </p:column>
                                    <p:column headerText="Cidade">
                                        <h:outputText value="#{endereco.cidade}" />
                                    </p:column>
                                    <p:column headerText="Logradouro">
                                        <h:outputText value="#{endereco.logradouro}" />
                                    </p:column>

                                    <p:column headerText="Estado">
                                        <h:outputText value="#{endereco.estado}" />
                                    </p:column>
                                    <p:column headerText="Núm">
                                        <h:outputText value="#{endereco.numero}" />
                                    </p:column>
                                    <p:column headerText="Complemento">
                                        <h:outputText value="#{endereco.complemento}" />
                                    </p:column>
                                    <p:column headerText="Ação">
                                        <p:commandLink value="Editar" actionListener="#{instituicaoC.carregarEndereco(endereco)}" update="@form" process="@this" />

                                    </p:column>
                                </p:dataTable>
                                <br />
                                <div class="form-group row">
                                    <div class="col-sm-6 mb-3 mb-sm-0">
                                        <p:commandButton action="#{instituicaoC.cadastraEnderecos()}"  process="@this" class="btn btn-primary btn-user btn-block"
                                                         title="Salvar" id="salvar" />

                                    </div>
                                    <div class="col-sm-6 mb-3 mb-sm-0">
                                        <p:commandButton ajax="true" immediate="true" type="reset" class="btn btn-primary btn-user btn-block" title="Cancelar" />
                                    </div>
                                </div>
                            </h:form>
                            <hr />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bootstrap core JavaScript-->
        <script src="vendor/jquery/jquery.min.js"></script>
        <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

        <!-- Core plugin JavaScript-->
        <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

        <!-- Custom scripts for all pages-->
        <script src="js/sb-admin-2.min.js"></script>

        <!-- Page level plugins -->
        <script src="vendor/chart.js/Chart.min.js"></script>

        <!-- Page level custom scripts -->
        <script src="js/demo/chart-area-demo.js"></script>
        <script src="js/demo/chart-pie-demo.js"></script>
        <script src="js/demo/chart-bar-demo.js"></script>

    </h:body>

</html>
